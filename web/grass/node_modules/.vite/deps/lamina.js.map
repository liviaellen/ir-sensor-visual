{
  "version": 3,
  "sources": ["../../src/utils/ExportUtils.ts", "../../src/debug.tsx", "../../src/index.tsx"],
  "sourcesContent": ["import { SerializedLayer } from 'src/types'\r\nimport * as LAYERS from '../vanilla'\r\n\r\nfunction getPropsFromLayer(layer: SerializedLayer) {\r\n  // @ts-ignore\r\n  const constructor = LAYERS[layer.constructor]\r\n  const instance = new constructor()\r\n  let props = ''\r\n  Object.entries(layer.properties).forEach(([key, val]) => {\r\n    const defaultVal = constructor['u_' + key] ?? instance[key]\r\n\r\n    switch (key) {\r\n      case 'name':\r\n        if (val !== layer.constructor) props += ` ${key}={${JSON.stringify(val)}}`\r\n        break\r\n\r\n      case 'visible':\r\n        if (!val) props += ` ${key}={${JSON.stringify(val)}}`\r\n        break\r\n\r\n      default:\r\n        if (val !== defaultVal) props += ` ${key}={${JSON.stringify(val)}}`\r\n        break\r\n    }\r\n  })\r\n\r\n  return props\r\n}\r\n\r\nexport function serializedLayersToJSX(layers: SerializedLayer[], material: SerializedLayer) {\r\n  const materialProps = getPropsFromLayer(material)\r\n\r\n  const jsx = `\r\n    <LayerMaterial${materialProps}>\r\n      ${layers\r\n        .map((layer) => {\r\n          const props = getPropsFromLayer(layer)\r\n          return `<${layer.constructor}${props} />`\r\n        })\r\n        .join('\\n\\t')}\r\n    </LayerMaterial>\r\n    `\r\n\r\n  return jsx\r\n}\r\n\r\nfunction getJSPropsFromLayer(layer: SerializedLayer) {\r\n  // @ts-ignore\r\n  const constructor = LAYERS[layer.constructor];\r\n  const instance = new constructor();\r\n  let props = '\\t';\r\n  let entries = Object.entries(layer.properties);\r\n  entries.forEach(([key, val], idx) => {\r\n    var _constructor;\r\n    const eol = '\\n\\t\\t';\r\n    if (key.includes('color')) {\r\n      const v = typeof val === \"string\" ? val : '#' + val.getHexString();\r\n      props += `${key}: ${JSON.stringify(v)},${eol}`;\r\n    } else {\r\n      const defaultVal = (_constructor = constructor['u_' + key]) != null ? _constructor : instance[key];\r\n      switch (key) {\r\n        case 'name':\r\n          if (val !== layer.constructor) props += `${key}: ${JSON.stringify(val)},${eol}`;\r\n          break;\r\n          \r\n          case 'visible':\r\n            if (!val) props += `${key}:${JSON.stringify(val)},${eol}`;\r\n            break;\r\n            \r\n          default:\r\n            if (val !== defaultVal) props += `${key}: ${JSON.stringify(val)},${eol}`;\r\n            break;\r\n        }\r\n      }\r\n  });\r\n  return props;\r\n}\r\n\r\nexport function serializedLayersToJS(layers: SerializedLayer[], material: SerializedLayer){\r\n  const materialProps = getJSPropsFromLayer(material);\r\n  const jsLayers = `${layers.map(l => {\r\n    return `new ${l.constructor}({\r\n      ${getJSPropsFromLayer(l)}\r\n      })`\r\n  }).join(',\\n\\t\\t')}`\r\n\r\n  const js = `\r\n  new LayerMaterial({\r\n    ${materialProps}\r\n    layers: [\r\n      ${jsLayers}\r\n    ]\r\n  })`\r\n\r\n  return js;\r\n}\r\n", "import { ElementProps, extend } from '@react-three/fiber'\r\nimport { createRoot } from 'react-dom/client'\r\n\r\nimport { button, LevaPanel, useControls, useCreateStore } from 'leva'\r\nimport { DataItem, StoreType } from 'leva/dist/declarations/src/types'\r\nimport React, { useImperativeHandle, useMemo } from 'react'\r\nimport {\r\n  Color,\r\n  MeshBasicMaterial,\r\n  MeshLambertMaterial,\r\n  MeshPhongMaterial,\r\n  MeshPhysicalMaterial,\r\n  MeshStandardMaterial,\r\n  MeshToonMaterial,\r\n  TextureLoader,\r\n} from 'three'\r\nimport { LayerMaterialProps, ShadingTypes } from './types'\r\nimport { serializedLayersToJS, serializedLayersToJSX } from './utils/ExportUtils'\r\nimport { getLayerMaterialArgs, getUniform } from './utils/Functions'\r\nimport * as LAYERS from './vanilla'\r\n\r\nextend({\r\n  LayerMaterial: LAYERS.LayerMaterial,\r\n})\r\n\r\nfunction DynamicLeva({\r\n  name,\r\n  layers,\r\n  store,\r\n  setUpdate,\r\n}: {\r\n  setUpdate: any\r\n  name: string\r\n  layers: any[]\r\n  store: StoreType\r\n}) {\r\n  useControls(\r\n    name,\r\n    () => {\r\n      const o: any = {}\r\n      layers.forEach((layer, i: number) => {\r\n        const n = `${layer.label} ~${i}`\r\n        o[n] = layer\r\n        o[n].onChange = () => setUpdate([`${name}.${n}`, layer.label])\r\n      })\r\n      return o\r\n    },\r\n    { store },\r\n    [layers, name]\r\n  )\r\n\r\n  return null\r\n}\r\n\r\ntype AllMaterialProps = ElementProps<typeof MeshPhongMaterial> & //\r\n  ElementProps<typeof MeshPhysicalMaterial> &\r\n  ElementProps<typeof MeshToonMaterial> &\r\n  ElementProps<typeof MeshBasicMaterial> &\r\n  ElementProps<typeof MeshLambertMaterial> &\r\n  ElementProps<typeof MeshStandardMaterial>\r\n\r\nconst DebugLayerMaterial = React.forwardRef<\r\n  LAYERS.LayerMaterial,\r\n  React.PropsWithChildren<LayerMaterialProps & Omit<AllMaterialProps, 'color'>>\r\n>(({ children, ...props }, forwardRef) => {\r\n  const ref = React.useRef<\r\n    LAYERS.LayerMaterial & {\r\n      [key: string]: any\r\n    }\r\n  >(null!)\r\n  useImperativeHandle(forwardRef, () => ref.current)\r\n  const store = useCreateStore()\r\n  const [layers, setLayers] = React.useState<{ [name: string]: any[] }>({})\r\n  const [path, setPath] = React.useState(['', ''])\r\n  const textureLoader = useMemo(() => new TextureLoader(), [])\r\n\r\n  useControls(\r\n    {\r\n      'Copy JSX': button(() => {\r\n        const serialized = ref.current.layers.map((l) => l.serialize())\r\n        const jsx = serializedLayersToJSX(serialized, ref.current.serialize())\r\n        navigator.clipboard.writeText(jsx)\r\n      }),\r\n      'Copy JS': button(() => {\r\n        const serialized = ref.current.layers.map((l) => l.serialize())\r\n        const js = serializedLayersToJS(serialized, ref.current.serialize())\r\n        navigator.clipboard.writeText(js)\r\n      }),\r\n    },\r\n    { store }\r\n  )\r\n\r\n  const { Lighting } = useControls(\r\n    'Base',\r\n    {\r\n      Color: {\r\n        value: '#' + new Color(ref.current?.color || props?.color || 'white').convertLinearToSRGB().getHexString(),\r\n        onChange: (v) => {\r\n          ref.current.color = v\r\n        },\r\n      },\r\n      Alpha: {\r\n        value: ref.current?.alpha || props?.alpha || 1,\r\n        min: 0,\r\n        max: 1,\r\n        onChange: (v) => {\r\n          ref.current.alpha = v\r\n        },\r\n      },\r\n      Lighting: {\r\n        value: ref.current?.lighting || props?.lighting || 'basic',\r\n        options: Object.keys(ShadingTypes),\r\n      },\r\n    },\r\n    { store }\r\n  )\r\n  const [args, otherProps] = useMemo(() => getLayerMaterialArgs({ ...props, lighting: Lighting }), [props, Lighting])\r\n\r\n  React.useEffect(() => {\r\n    const layers = ref.current.layers\r\n\r\n    const schema: { [name: string]: any[] } = {}\r\n    layers.forEach((layer: any, i: number) => {\r\n      if (layer.getSchema) schema[`${layer.name} ~${i}`] = layer.getSchema()\r\n    })\r\n\r\n    setLayers(schema)\r\n  }, [children])\r\n\r\n  React.useEffect(() => {\r\n    const data = store.getData()\r\n    const updatedData = data[path[0]] as DataItem & {\r\n      value: any\r\n    }\r\n    if (updatedData) {\r\n      const split = path[0].split('.')\r\n      const index = parseInt(split[0].split(' ~')[1])\r\n      const property = path[1]\r\n      const id = ref.current.layers[index].uuid\r\n      const uniform = ref.current.uniforms[`u_${id}_${property}`]\r\n      const layer = ref.current.layers[index] as LAYERS.Abstract & {\r\n        [key: string]: any\r\n      }\r\n\r\n      if (property !== 'map') {\r\n        layer[property] = updatedData.value\r\n        if (uniform) {\r\n          uniform.value = getUniform(updatedData.value)\r\n        } else {\r\n          layer.buildShaders(layer.constructor)\r\n          ref.current.refresh()\r\n        }\r\n      } else {\r\n        ;(async () => {\r\n          try {\r\n            if (updatedData.value) {\r\n              const t = await textureLoader.loadAsync(updatedData.value)\r\n              layer[property] = t\r\n              uniform.value = t\r\n            } else {\r\n              layer[property] = undefined\r\n              uniform.value = undefined\r\n            }\r\n          } catch (error) {\r\n            console.error(error)\r\n          }\r\n        })()\r\n      }\r\n    }\r\n  }, [path])\r\n\r\n  React.useLayoutEffect(() => {\r\n    ref.current.layers = (ref.current as any).__r3f.children?.map((l: any) => l.object)\r\n    ref.current.refresh()\r\n  }, [children, args])\r\n\r\n  React.useLayoutEffect(() => {\r\n    const root = document.body.querySelector('#root')\r\n    const div = document.createElement('div')\r\n\r\n    if (root) {\r\n      root.appendChild(div)\r\n      const levaRoot = createRoot(div)\r\n      levaRoot.render(\r\n        <LevaPanel\r\n          titleBar={{\r\n            title: props.name || ref.current.name,\r\n          }}\r\n          store={store}\r\n        />\r\n      )\r\n    }\r\n\r\n    return () => {\r\n      div.remove()\r\n    }\r\n  }, [props.name])\r\n\r\n  return (\r\n    <>\r\n      {Object.entries(layers).map(([name, layers], i) => (\r\n        <DynamicLeva key={`${name} ~${i}`} name={name} layers={layers} store={store} setUpdate={setPath} />\r\n      ))}\r\n      <layerMaterial args={[args]} ref={ref} {...otherProps}>\r\n        {children}\r\n      </layerMaterial>\r\n    </>\r\n  )\r\n})\r\n\r\nexport default DebugLayerMaterial\r\n", "import { ElementProps, extend, ThreeElement } from '@react-three/fiber'\r\nimport React, { useImperativeHandle, useMemo } from 'react'\r\nimport {\r\n  MeshBasicMaterial,\r\n  MeshLambertMaterial,\r\n  MeshPhongMaterial,\r\n  MeshPhysicalMaterial,\r\n  MeshStandardMaterial,\r\n  MeshToonMaterial,\r\n} from 'three'\r\nimport DebugLayerMaterial from './debug'\r\nimport {\r\n  ColorProps,\r\n  DepthProps,\r\n  DisplaceProps,\r\n  FresnelProps,\r\n  GradientProps,\r\n  LayerMaterialProps,\r\n  MatcapProps,\r\n  NoiseProps,\r\n  NormalProps,\r\n  TextureProps,\r\n} from './types'\r\nimport { getLayerMaterialArgs } from './utils/Functions'\r\nimport * as LAYERS from './vanilla'\r\n\r\ndeclare module '@react-three/fiber' {\r\n  interface ThreeElements {\r\n    layerMaterial: ThreeElement<typeof LAYERS.LayerMaterial>\r\n    depth_: ThreeElement<typeof LAYERS.Depth>\r\n    color_: ThreeElement<typeof LAYERS.Color>\r\n    noise_: ThreeElement<typeof LAYERS.Noise>\r\n    fresnel_: ThreeElement<typeof LAYERS.Fresnel>\r\n    gradient_: ThreeElement<typeof LAYERS.Gradient>\r\n    matcap_: ThreeElement<typeof LAYERS.Matcap>\r\n    texture_: ThreeElement<typeof LAYERS.Texture>\r\n    displace_: ThreeElement<typeof LAYERS.Displace>\r\n    normal_: ThreeElement<typeof LAYERS.Normal>\r\n  }\r\n}\r\n\r\nextend({\r\n  LayerMaterial: LAYERS.LayerMaterial,\r\n  Depth_: LAYERS.Depth,\r\n  Color_: LAYERS.Color,\r\n  Noise_: LAYERS.Noise,\r\n  Fresnel_: LAYERS.Fresnel,\r\n  Gradient_: LAYERS.Gradient,\r\n  Matcap_: LAYERS.Matcap,\r\n  Texture_: LAYERS.Texture,\r\n  Displace_: LAYERS.Displace,\r\n  Normal_: LAYERS.Normal,\r\n})\r\n\r\nexport type AllMaterialProps = ElementProps<typeof MeshPhongMaterial> & //\r\n  ElementProps<typeof MeshPhysicalMaterial> &\r\n  ElementProps<typeof MeshToonMaterial> &\r\n  ElementProps<typeof MeshBasicMaterial> &\r\n  ElementProps<typeof MeshLambertMaterial> &\r\n  ElementProps<typeof MeshStandardMaterial>\r\n\r\nconst LayerMaterial = React.forwardRef<\r\n  LAYERS.LayerMaterial,\r\n  React.PropsWithChildren<LayerMaterialProps & Omit<AllMaterialProps, 'color'>>\r\n>(({ children, ...props }, forwardRef) => {\r\n  const ref = React.useRef<LAYERS.LayerMaterial>(null!)\r\n  useImperativeHandle(forwardRef, () => ref.current)\r\n\r\n  React.useLayoutEffect(() => {\r\n    ref.current.layers = (ref.current as any).__r3f.children?.map((l: any) => l.object)\r\n    ref.current.refresh()\r\n  }, [children])\r\n\r\n  const [args, otherProps] = useMemo(() => getLayerMaterialArgs(props), [props])\r\n\r\n  return (\r\n    <layerMaterial args={[args]} ref={ref} {...otherProps}>\r\n      {children}\r\n    </layerMaterial>\r\n  )\r\n})\r\n\r\nfunction getNonUniformArgs(props: any) {\r\n  return [\r\n    {\r\n      mode: props?.mode,\r\n      visible: props?.visible,\r\n      type: props?.type,\r\n      mapping: props?.mapping,\r\n      map: props?.map,\r\n      axes: props?.axes,\r\n    },\r\n  ] as any\r\n}\r\n\r\nconst Depth = React.forwardRef<LAYERS.Depth, DepthProps>((props, forwardRef) => {\r\n  //@ts-ignore\r\n  return <depth_ args={getNonUniformArgs(props)} ref={forwardRef} {...props} />\r\n}) as React.ForwardRefExoticComponent<DepthProps & React.RefAttributes<LAYERS.Depth>>\r\n\r\nconst Color = React.forwardRef<LAYERS.Color, ColorProps>((props, ref) => {\r\n  //@ts-ignore\r\n  return <color_ ref={ref} args={getNonUniformArgs(props)} {...props} />\r\n}) as React.ForwardRefExoticComponent<ColorProps & React.RefAttributes<LAYERS.Color>>\r\n\r\nconst Noise = React.forwardRef<LAYERS.Noise, NoiseProps>((props, ref) => {\r\n  //@ts-ignore\r\n  return <noise_ ref={ref} args={getNonUniformArgs(props)} {...props} />\r\n}) as React.ForwardRefExoticComponent<NoiseProps & React.RefAttributes<LAYERS.Noise>>\r\n\r\nconst Fresnel = React.forwardRef<LAYERS.Fresnel, FresnelProps>((props, ref) => {\r\n  //@ts-ignore\r\n  return <fresnel_ ref={ref} args={getNonUniformArgs(props)} {...props} />\r\n}) as React.ForwardRefExoticComponent<FresnelProps & React.RefAttributes<LAYERS.Fresnel>>\r\n\r\nconst Gradient = React.forwardRef<LAYERS.Gradient, GradientProps>((props, ref) => {\r\n  //@ts-ignore\r\n  return <gradient_ ref={ref} args={getNonUniformArgs(props)} {...props} />\r\n}) as React.ForwardRefExoticComponent<GradientProps & React.RefAttributes<LAYERS.Gradient>>\r\n\r\nconst Matcap = React.forwardRef<LAYERS.Matcap, MatcapProps>((props, ref) => {\r\n  //@ts-ignore\r\n  return <matcap_ ref={ref} args={getNonUniformArgs(props)} {...props} />\r\n}) as React.ForwardRefExoticComponent<MatcapProps & React.RefAttributes<LAYERS.Matcap>>\r\n\r\nconst Texture = React.forwardRef<LAYERS.Texture, TextureProps>((props, ref) => {\r\n  //@ts-ignore\r\n  return <texture_ ref={ref} args={getNonUniformArgs(props)} {...props} />\r\n}) as React.ForwardRefExoticComponent<TextureProps & React.RefAttributes<LAYERS.Texture>>\r\n\r\nconst Displace = React.forwardRef<LAYERS.Displace, DisplaceProps>((props, ref) => {\r\n  //@ts-ignore\r\n  return <displace_ ref={ref} args={getNonUniformArgs(props)} {...props} />\r\n}) as React.ForwardRefExoticComponent<DisplaceProps & React.RefAttributes<LAYERS.Displace>>\r\n\r\nconst Normal = React.forwardRef<LAYERS.Normal, NormalProps>((props, ref) => {\r\n  //@ts-ignore\r\n  return <normal_ ref={ref} args={getNonUniformArgs(props)} {...props} />\r\n}) as React.ForwardRefExoticComponent<NormalProps & React.RefAttributes<LAYERS.Normal>>\r\n\r\nexport { Color, DebugLayerMaterial, Depth, Displace, Fresnel, Gradient, LayerMaterial, Matcap, Noise, Normal, Texture }\r\n"],
  "mappings": "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",
  "names": ["getPropsFromLayer", "layer", "constructor", "LAYERS", "instance", "props", "key", "val", "defaultVal", "serializedLayersToJSX", "layers", "material", "getJSPropsFromLayer", "idx", "_constructor", "eol", "v", "serializedLayersToJS", "materialProps", "jsLayers", "l", "extend", "LAYERS.LayerMaterial", "DynamicLeva", "name", "store", "setUpdate", "useControls", "o", "n", "DebugLayerMaterial", "React", "children", "forwardRef", "ref", "useImperativeHandle", "useCreateStore", "setLayers", "path", "setPath", "textureLoader", "useMemo", "TextureLoader", "button", "serialized", "jsx", "js", "Lighting", "Color", "_a", "_b", "_c", "ShadingTypes", "args", "otherProps", "getLayerMaterialArgs", "schema", "i", "updatedData", "split", "index", "property", "id", "uniform", "getUniform", "t", "error", "root", "div", "createRoot", "LevaPanel", "jsxs", "Fragment", "LAYERS.Depth", "LAYERS.Color", "LAYERS.Noise", "LAYERS.Fresnel", "LAYERS.Gradient", "LAYERS.Matcap", "LAYERS.Texture", "LAYERS.Displace", "LAYERS.Normal", "LayerMaterial", "getNonUniformArgs", "Depth", "Noise", "Fresnel", "Gradient", "Matcap", "Texture", "Displace", "Normal"]
}
